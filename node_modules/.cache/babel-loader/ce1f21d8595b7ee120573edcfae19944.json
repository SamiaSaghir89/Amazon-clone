{"ast":null,"code":"import _regeneratorRuntime from \"C:/Users/user/Documents/amazon clone/amazon-clone/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"C:/Users/user/Documents/amazon clone/amazon-clone/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _defineProperty from \"C:/Users/user/Documents/amazon clone/amazon-clone/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectSpread from \"C:/Users/user/Documents/amazon clone/amazon-clone/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport _slicedToArray from \"C:/Users/user/Documents/amazon clone/amazon-clone/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"C:\\\\Users\\\\user\\\\Documents\\\\amazon clone\\\\amazon-clone\\\\src\\\\components\\\\login-register\\\\SignIn.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport './login-register.css';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport Alert from '@mui/material/Alert/Alert';\nimport AlertTitle from '@mui/material/AlertTitle/AlertTitle';\nimport axios from 'axios';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar SignIn = function SignIn() {\n  _s();\n  var _useState = useState({\n      email: \"\",\n      password: \"\"\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    signInInfo = _useState2[0],\n    setSignInInfo = _useState2[1];\n  function formUpdate(e) {\n    var _e$target = e.target,\n      name = _e$target.name,\n      value = _e$target.value;\n    setSignInInfo(function () {\n      return _objectSpread(_objectSpread({}, signInInfo), {}, _defineProperty({}, name, value));\n    });\n  }\n  var _useState3 = useState([]),\n    _useState4 = _slicedToArray(_useState3, 2),\n    errorMessage = _useState4[0],\n    setErrorMessage = _useState4[1];\n  var navigate = useNavigate();\n  function sendData(_x) {\n    return _sendData.apply(this, arguments);\n  }\n  function _sendData() {\n    _sendData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n      var email, password, res, errors, temp, i;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              e.preventDefault();\n              email = signInInfo.email, password = signInInfo.password;\n              _context.prev = 2;\n              _context.next = 5;\n              return axios.post(\"https://amazon-clone-sp-be.herokuapp.com/api/login\", {\n                email: email,\n                password: password\n              }, {\n                headers: {\n                  'Access-Control-Allow-Origin': 'http://localhost:3000',\n                  'Content-Type': 'application/json'\n                },\n                withCredentials: true // Cookie credentials (tokens)\n              });\n            case 5:\n              res = _context.sent;\n              setSignInInfo(function () {\n                return _objectSpread(_objectSpread({}, signInInfo), {}, {\n                  email: \"\",\n                  password: \"\"\n                });\n              });\n              document.querySelector(\".error-alert\").style.display = \"none\";\n              document.querySelector(\".success-alert\").style.display = \"flex\";\n              setTimeout(function () {\n                navigate('/');\n              }, 1000);\n              _context.next = 15;\n              break;\n            case 12:\n              _context.prev = 12;\n              _context.t0 = _context[\"catch\"](2);\n              try {\n                document.querySelector(\".success-alert\").style.display = \"none\";\n                document.querySelector(\".error-alert\").style.display = \"flex\";\n                errors = _context.t0.response.data.message;\n                temp = [];\n                for (i = 0; i < errors.length; i++) {\n                  temp.push(errors[i].msg);\n                }\n                setErrorMessage(temp);\n              } catch (err) {\n                console.log(_context.t0);\n              }\n            case 15:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee, null, [[2, 12]]);\n    }));\n    return _sendData.apply(this, arguments);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"signin\",\n    children: [/*#__PURE__*/_jsxDEV(NavLink, {\n      to: \"/\",\n      className: \"logo\",\n      children: /*#__PURE__*/_jsxDEV(\"img\", {\n        src: \"images/logo-dark.png\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"outlined\",\n      severity: \"warning\",\n      className: \"alert error-alert\",\n      children: [/*#__PURE__*/_jsxDEV(AlertTitle, {\n        className: \"alert-title\",\n        children: \"There were some errors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 83,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: errorMessage.map(function (error, index) {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\" \", error, \" \"]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 17\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(Alert, {\n      variant: \"outlined\",\n      className: \"alert success-alert\",\n      children: \"Logged-in successfully!\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"form-details\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Sign-In\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(\"form\", {\n        method: \"post\",\n        action: \"/\",\n        onSubmit: sendData,\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"email\",\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 100,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          name: \"email\",\n          id: \"email\",\n          placeholder: \"Email Address\",\n          onChange: formUpdate,\n          value: signInInfo.email,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"password\",\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          name: \"password\",\n          id: \"password\",\n          placeholder: \"Password\",\n          onChange: formUpdate,\n          value: signInInfo.password,\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 11\n        }, _this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          id: \"submit\",\n          children: \"Continue\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, _this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"new-to-amazon\",\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"New to Amazon?\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 12\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 9\n      }, _this), /*#__PURE__*/_jsxDEV(NavLink, {\n        to: \"/register\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          children: \"Create your Amazon account\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, _this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, _this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, _this);\n};\n_s(SignIn, \"67/DDPX80xR2VlaVe1hGE+TdrNE=\", false, function () {\n  return [useNavigate];\n});\n_c = SignIn;\nexport default SignIn;\nvar _c;\n$RefreshReg$(_c, \"SignIn\");","map":{"version":3,"names":["React","useState","NavLink","useNavigate","Alert","AlertTitle","axios","SignIn","email","password","signInInfo","setSignInInfo","formUpdate","e","target","name","value","errorMessage","setErrorMessage","navigate","sendData","preventDefault","post","headers","withCredentials","res","document","querySelector","style","display","setTimeout","errors","response","data","message","temp","i","length","push","msg","err","console","log","map","error","index"],"sources":["C:/Users/user/Documents/amazon clone/amazon-clone/src/components/login-register/SignIn.jsx"],"sourcesContent":["import React, { useState } from 'react';\nimport './login-register.css';\nimport { NavLink, useNavigate } from 'react-router-dom';\nimport Alert from '@mui/material/Alert/Alert';\nimport AlertTitle from '@mui/material/AlertTitle/AlertTitle';\nimport axios from 'axios';\n\nconst SignIn = () => {\n\n  const [signInInfo, setSignInInfo] = useState({\n    email: \"\",\n    password: \"\"\n  });\n\n  function formUpdate(e) {\n    const {name, value} = e.target;\n    \n    setSignInInfo(function() {\n      return {\n        ...signInInfo,\n        [name]:value\n      }\n    })\n  }\n\n  const [errorMessage, setErrorMessage] = useState([]);\n  const navigate = useNavigate();\n\n  async function sendData(e) {\n    e.preventDefault();\n    const { email, password } = signInInfo; \n\n    try {\n      const res = await axios.post(\"https://amazon-clone-sp-be.herokuapp.com/api/login\", {\n        email, password\n      }, {\n        headers: {\n          'Access-Control-Allow-Origin': 'http://localhost:3000',\n          'Content-Type': 'application/json'\n        },\n        withCredentials: true // Cookie credentials (tokens)\n      });\n\n      setSignInInfo(function() {\n        return {\n          ...signInInfo,\n          email: \"\", password: \"\"\n        }\n      });\n\n      document.querySelector(\".error-alert\").style.display = \"none\";\n      document.querySelector(\".success-alert\").style.display = \"flex\";\n\n      setTimeout(function() {\n        navigate('/');\n      }, 1000)\n\n    } catch (error) {\n      try {\n        document.querySelector(\".success-alert\").style.display = \"none\";\n        document.querySelector(\".error-alert\").style.display = \"flex\";\n        const errors = error.response.data.message;\n        const temp = [];\n        \n        for (let i = 0; i < errors.length; i++) {\n          temp.push(errors[i].msg);\n        }\n        setErrorMessage(temp);\n      } catch(err) {\n        console.log(error)\n      }\n    }\n  }\n\n\n  return (\n    <div className='signin'>\n      <NavLink to='/' className='logo'>\n        <img src='images/logo-dark.png' alt='logo' />\n      </NavLink>\n\n      <Alert variant=\"outlined\" severity=\"warning\" className='alert error-alert'>\n        <AlertTitle className='alert-title'>There were some errors</AlertTitle>\n        <ul>\n          { \n            errorMessage.map(function(error, index) {\n              return (\n                <li key={index}> {error} </li>\n              )\n            })\n          }\n        </ul>\n      </Alert>\n\n      <Alert variant=\"outlined\" className='alert success-alert'>Logged-in successfully!</Alert>\n\n      <div className='form-details'>\n        <h3>Sign-In</h3>\n        <form method='post' action='/' onSubmit={ sendData }>\n          <label htmlFor='email'>Email</label>\n          <input type='email' name='email' id='email' placeholder='Email Address' onChange={ formUpdate } value={ signInInfo.email } required />\n          <label htmlFor='password'>Password</label>\n          <input type='password' name='password' id='password' placeholder='Password' onChange={ formUpdate } value={ signInInfo.password } required />\n          <button type='submit' id='submit'>Continue</button>\n        </form>\n      </div>\n\n      <div className='new-to-amazon'>\n        <p><span>New to Amazon?</span></p>\n        <NavLink to='/register'>\n          <button>Create your Amazon account</button>\n        </NavLink>\n      </div>\n    </div>\n  )\n}\n\nexport default SignIn;"],"mappings":"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"},"metadata":{},"sourceType":"module"}